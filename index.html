<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VibeShop | í™ˆ</title>
  <meta name="description" content="ê°€ë³ê³  ë¹ ë¥¸ ì‡¼í•‘ëª° í™ˆí˜ì´ì§€ ì˜ˆì‹œ" />
  <style>
    :root{
      --bg:#0b0f19;
      --card:#111827;
      --card2:#0f172a;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --line:rgba(255,255,255,.08);
      --brand:#7c3aed;
      --brand2:#22c55e;
      --danger:#ef4444;
      --warning:#f59e0b;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius:16px;
      --radius2:22px;
      --max:1200px;
    }

    /* ë¼ì´íŠ¸ ëª¨ë“œ */
    :root[data-theme="light"]{
      --bg:#f6f7fb;
      --card:#ffffff;
      --card2:#f1f5f9;
      --text:#0f172a;
      --muted:#475569;
      --line:rgba(2,6,23,.10);
      --shadow: 0 12px 30px rgba(2,6,23,.10);
    }
    :root[data-theme="light"] body{
      background:
        radial-gradient(1200px 600px at 15% 0%, rgba(124,58,237,.12), transparent 60%),
        radial-gradient(1000px 500px at 95% 10%, rgba(34,197,94,.10), transparent 60%),
        radial-gradient(900px 600px at 50% 110%, rgba(59,130,246,.08), transparent 55%),
        var(--bg);
    }
    :root[data-theme="light"] .topbar{ background: rgba(246,247,251,.75); }
    :root[data-theme="light"] .search{
      background: rgba(2,6,23,.04);
      border-color: rgba(2,6,23,.10);
    }
    :root[data-theme="light"] .iconbtn,
    :root[data-theme="light"] .btn,
    :root[data-theme="light"] .mini-card,
    :root[data-theme="light"] .card,
    :root[data-theme="light"] .select,
    :root[data-theme="light"] .toggle,
    :root[data-theme="light"] .qty{
      background: rgba(2,6,23,.03);
      border-color: rgba(2,6,23,.10);
    }
    :root[data-theme="light"] .drawer{ background: rgba(255,255,255,.92); }
    :root[data-theme="light"] .backdrop{ background: rgba(2,6,23,.45); }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", "Apple SD Gothic Neo", Arial, "ë§‘ì€ ê³ ë”•", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 15% 0%, rgba(124,58,237,.22), transparent 60%),
        radial-gradient(1000px 500px at 95% 10%, rgba(34,197,94,.16), transparent 60%),
        radial-gradient(900px 600px at 50% 110%, rgba(59,130,246,.12), transparent 55%),
        var(--bg);
      line-height:1.35;
    }
    a{color:inherit;text-decoration:none}
    button{font:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:0 18px}

    /* Top bar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(11,15,25,.7);
      border-bottom:1px solid var(--line);
    }
    .topbar-inner{
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px 0;
  flex-wrap: wrap;              /* âœ… ê³µê°„ ë¶€ì¡± ì‹œ ìì—°ìŠ¤ëŸ½ê²Œ ì¤„ë°”ê¿ˆ */
}

   .logo{
  display:flex; align-items:center; gap:10px; font-weight:800;
  user-select:none;
  min-width: 120px;             /* (ê¸°ì¡´ 148px â†’ 120pxë¡œ ì™„í™”) */
  flex: 0 0 auto;
}

    .logo-mark{
      width:34px; height:34px; border-radius:12px;
      background: linear-gradient(135deg, var(--brand), #2563eb);
      box-shadow: 0 10px 20px rgba(124,58,237,.25);
      position:relative;
    }
    .logo-mark::after{
      content:"";
      position:absolute; inset:9px;
      border-radius:10px;
      background: rgba(255,255,255,.18);
      transform: rotate(18deg);
    }
    .nav{
      display:flex; align-items:center; gap:10px;
      color:var(--muted);
      flex-wrap:wrap;
    }
    .nav a{
      padding:10px 10px;
      border-radius:12px;
      transition:.15s ease;
      border:1px solid transparent;
    }
    .nav a:hover{
      color:var(--text);
      background: rgba(255,255,255,.04);
      border-color: rgba(255,255,255,.06);
    }

    /* Search */
    .search{
  flex: 1 1 420px;              /* âœ… ê²€ìƒ‰ì°½ì´ ìœ ì—°í•˜ê²Œ ëŠ˜/ì¤„ */
  min-width: 240px;             /* âœ… ë„ˆë¬´ ì‘ì•„ì§€ì§€ ì•Šê²Œ */
  display:flex; align-items:center; gap:10px;
  padding:10px 12px;
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  border-radius: 999px;
}

   .search input{
  min-width: 0;                 /* âœ… flex ì•ˆì—ì„œ inputì´ ë„˜ì¹˜ë©° UI ê¹¨ì§€ëŠ” ê±¸ ë°©ì§€ */
  flex:1;
  border:0;
  outline:0;
  background: transparent;
  color:var(--text);
  font-size:14px;
}

    .search .kbd{
      font-size:12px;
      color:var(--muted);
      padding:5px 8px;
      border:1px solid rgba(255,255,255,.10);
      border-bottom-color: rgba(255,255,255,.18);
      border-radius:10px;
      background: rgba(255,255,255,.03);
    }

    /* Actions */
    .actions{
  display:flex;
  align-items:center;
  gap:10px;
  flex: 0 0 auto;               /* âœ… ìš°ì¸¡ ë²„íŠ¼ ì˜ì—­ì´ í•„ìš” ì´ìƒìœ¼ë¡œ ì¤„ì§€ ì•Šê²Œ */
}

    .iconbtn{
      position:relative;
      display:inline-flex; align-items:center; justify-content:center;
      width:42px; height:42px;
      border-radius:14px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      transition:.15s ease;
      cursor:pointer;
      color:var(--text);
    }
    .iconbtn:hover{transform: translateY(-1px); background: rgba(255,255,255,.06)}
    .badge{
      position:absolute;
      top:-6px; right:-6px;
      min-width: 20px; height:20px;
      padding:0 6px;
      border-radius:999px;
      display:inline-flex; align-items:center; justify-content:center;
      background: var(--brand);
      border: 1px solid rgba(255,255,255,.25);
      font-size:12px;
      font-weight:700;
      box-shadow: 0 10px 20px rgba(124,58,237,.25);
    }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 14px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color:var(--text);
      cursor:pointer;
      transition:.15s ease;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.08)}
    .btn.primary{
      background: linear-gradient(135deg, var(--brand), #2563eb);
      border-color: transparent;
      box-shadow: 0 12px 26px rgba(124,58,237,.22);
    }
    .btn.primary:hover{filter: brightness(1.04)}
    .btn.ghost{
      background: transparent;
      border-color: rgba(255,255,255,.12);
    }
    .btn.small{padding:10px 12px; font-size:13px; border-radius:14px}

    /* Account area */
   .account{
  max-width: 170px;             /* âœ… 240px â†’ 170pxë¡œ ì¤„ì—¬ì„œ ì••ë°• ì™„í™” */
  padding: 10px 12px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: var(--muted);
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: none;                /* ë¡œê·¸ì¸ ì‹œ JSì—ì„œ blockìœ¼ë¡œ ë°”ë€œ */
  align-items: center;          /* âœ… inline-flex ëŠë‚Œ */
}

    .account strong{color: var(--text)}

    /* Hero */
    .hero{ padding: 22px 0 10px; }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
    }
    .hero-main{
      border-radius: var(--radius2);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.08);
      background:
        radial-gradient(900px 400px at 20% 20%, rgba(124,58,237,.22), transparent 55%),
        radial-gradient(800px 400px at 90% 10%, rgba(34,197,94,.18), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
      padding: 22px;
      position:relative;
      min-height: 260px;
    }
    .hero-main h1{
      margin: 0 0 10px;
      font-size: clamp(22px, 3.2vw, 36px);
      line-height: 1.12;
      letter-spacing: -.2px;
    }
    .hero-main p{
      margin: 0 0 16px;
      color: var(--muted);
      max-width: 56ch;
      font-size: 14.5px;
    }
    .chips{display:flex; flex-wrap:wrap; gap:8px; margin: 12px 0 18px}
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding: 9px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-size: 13px;
    }
    .dot{width:8px; height:8px; border-radius:99px; background: var(--brand2); box-shadow: 0 0 0 4px rgba(34,197,94,.10)}
    .hero-cta{display:flex; gap:10px; flex-wrap:wrap}
    .hero-art{
      position:absolute;
      right: -40px; bottom: -30px;
      width: 280px; height: 220px;
      border-radius: 32px;
      background:
        radial-gradient(70px 70px at 30% 30%, rgba(255,255,255,.22), transparent 60%),
        radial-gradient(120px 120px at 60% 60%, rgba(255,255,255,.14), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.10);
      transform: rotate(-10deg);
      opacity:.95;
    }

    .hero-side{
      display:grid;
      grid-template-rows: 1fr 1fr;
      gap: 16px;
    }
    .mini-card{
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
      padding: 18px;
      box-shadow: var(--shadow);
    }
    .mini-title{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:12px}
    .mini-title h3{margin:0; font-size: 15px}
    .mini-title span{color:var(--muted); font-size: 12.5px}
    .deals{display:grid; gap:10px}
    .deal{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding: 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
    }
    .deal .left{display:flex; flex-direction:column; gap:4px}
    .deal .name{font-weight:700; font-size: 13.5px}
    .deal .desc{color:var(--muted); font-size: 12.5px}
    .pill{
      padding: 7px 10px;
      border-radius: 999px;
      font-weight:800;
      font-size: 12px;
      background: rgba(124,58,237,.14);
      border: 1px solid rgba(124,58,237,.35);
      color: #d8b4fe;
      white-space:nowrap;
    }
    .pill.hot{
      background: rgba(245,158,11,.14);
      border-color: rgba(245,158,11,.35);
      color: #fde68a;
    }

    /* Section header */
    .section{ padding: 14px 0 26px; }
    .section-head{
      display:flex; align-items:flex-end; justify-content:space-between; gap:14px;
      margin: 8px 0 14px;
    }
    .section-head h2{margin:0; font-size: 18px}
    .section-head p{margin:0; color:var(--muted); font-size: 13px}

    /* Filters */
    .filters{
      display:flex; flex-wrap:wrap; gap:10px;
      align-items:center;
      margin: 10px 0 14px;
    }
    .select, .toggle{
      display:flex; align-items:center; gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color: var(--text);
      font-size: 13px;
    }
    select{
      appearance:none;
      background: transparent;
      border:0;
      outline:0;
      color: var(--text);
      font-size:13px;
      cursor:pointer;
    }
    .toggle input{accent-color: var(--brand); cursor:pointer}

    /* Product grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }
    .card{
      grid-column: span 3;
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
      overflow:hidden;
      box-shadow: var(--shadow);
      display:flex;
      flex-direction:column;
      min-height: 360px;
      transition: .15s ease;
    }
    .card:hover{transform: translateY(-2px)}
    .thumb{
      height: 170px;
      background:
        radial-gradient(180px 120px at 30% 30%, rgba(124,58,237,.22), transparent 60%),
        radial-gradient(180px 120px at 70% 40%, rgba(34,197,94,.18), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      border-bottom:1px solid rgba(255,255,255,.08);
      position:relative;
    }
    .thumb .tag{
      position:absolute; top:12px; left:12px;
      padding:7px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight:800;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
    }
    .thumb .tag.sale{background: rgba(239,68,68,.14); border-color: rgba(239,68,68,.35); color:#fecaca}
    .thumb .tag.new{background: rgba(34,197,94,.14); border-color: rgba(34,197,94,.35); color:#bbf7d0}
    .thumb .tag.best{background: rgba(59,130,246,.14); border-color: rgba(59,130,246,.35); color:#bfdbfe}
    .thumb .wish{
      position:absolute; top:12px; right:12px;
      width:38px; height:38px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      transition:.15s ease;
    }
    .thumb .wish:hover{transform: scale(1.03)}
    .thumb .wish.active{background: rgba(124,58,237,.22); border-color: rgba(124,58,237,.35)}
    .content{padding: 14px 14px 12px; display:flex; flex-direction:column; gap:10px; flex:1}
    .title{font-weight:800; font-size: 14.5px; margin:0}
    .meta{display:flex; gap:8px; flex-wrap:wrap; align-items:center; color:var(--muted); font-size:12.5px}
    .stars{display:inline-flex; align-items:center; gap:6px}
    .star{
      width:14px; height:14px; display:inline-block;
      background: conic-gradient(from 0deg, #fbbf24 0 100%);
      clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
      filter: drop-shadow(0 3px 6px rgba(0,0,0,.3));
    }
    .price-row{display:flex; align-items:flex-end; justify-content:space-between; gap:12px}
    .price{display:flex; flex-direction:column; gap:3px}
    .price .now{font-size: 18px; font-weight:900; letter-spacing:.2px}
    .price .was{font-size: 12px; color: var(--muted); text-decoration: line-through}
    .actions-row{display:flex; gap:10px; margin-top:auto}
    .qty{
      display:flex; align-items:center; gap:8px;
      padding: 10px 10px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    .qty button{
      width:26px; height:26px; border-radius:10px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--text);
      cursor:pointer;
    }
    .qty span{min-width: 16px; text-align:center; font-weight:800; font-size: 13px}
    .buy{
      flex:1;
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(135deg, rgba(124,58,237,.95), rgba(37,99,235,.92));
      box-shadow: 0 12px 26px rgba(124,58,237,.20);
      cursor:pointer;
      font-weight:900;
    }
    .buy:hover{filter: brightness(1.04)}
    .subtle{color:var(--muted)}

    /* Cart drawer */
    .backdrop{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      z-index:80;
    }
    .drawer{
      position:fixed; top:0; right:0; height:100%; width:min(420px, 92vw);
      background: rgba(15,23,42,.92);
      backdrop-filter: blur(14px);
      border-left:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      transform: translateX(105%);
      transition: transform .2s ease;
      z-index:90;
      display:flex; flex-direction:column;
    }
    .drawer.open{transform: translateX(0)}
    .backdrop.show{display:block}
    .drawer-head{
      padding: 16px;
      border-bottom:1px solid rgba(255,255,255,.08);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .drawer-head h3{margin:0; font-size: 16px}
    .drawer-body{padding: 14px 16px; overflow:auto; flex:1}
    .cart-item{
      display:flex; gap:12px; align-items:flex-start;
      padding: 12px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
      margin-bottom: 10px;
    }
    .cart-thumb{
      width:56px; height:56px; border-radius: 16px;
      background:
        radial-gradient(40px 40px at 30% 30%, rgba(124,58,237,.25), transparent 60%),
        radial-gradient(50px 50px at 70% 40%, rgba(34,197,94,.18), transparent 60%),
        rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      flex:0 0 auto;
    }
    .cart-info{flex:1; min-width:0}
    .cart-info .n{font-weight:900; font-size: 14px; margin:0 0 4px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .cart-info .m{color:var(--muted); font-size: 12.5px; margin:0 0 10px}
    .cart-ops{display:flex; align-items:center; justify-content:space-between; gap:10px}
    .cart-ops .mini-qty{display:flex; gap:8px; align-items:center}
    .cart-ops button{
      width:28px; height:28px; border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color:var(--text);
      cursor:pointer;
    }
    .cart-ops .amt{font-weight:900}
    .remove{
      background: rgba(239,68,68,.14) !important;
      border-color: rgba(239,68,68,.35) !important;
      color:#fecaca !important;
    }
    .drawer-foot{
      padding: 14px 16px;
      border-top:1px solid rgba(255,255,255,.08);
      display:grid; gap:10px;
    }
    .totals{
      display:flex; align-items:center; justify-content:space-between;
      color: var(--muted);
      font-size: 13px;
    }
    .totals b{color:var(--text); font-size: 16px}
    .checkout{display:flex; gap:10px}
    .checkout .btn{flex:1; justify-content:center}

    /* Footer */
    footer{
      border-top:1px solid var(--line);
      padding: 22px 0 30px;
      color: var(--muted);
      margin-top: 10px;
    }
    .foot{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr;
      gap: 18px;
    }
    .foot h4{margin:0 0 10px; color:var(--text)}
    .foot a{color:var(--muted)}
    .foot a:hover{color:var(--text)}
    .small{font-size: 12.5px; color:var(--muted)}
    .line{height:1px; background: var(--line); margin: 14px 0}

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(17,24,39,.92);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 999px;
      padding: 10px 14px;
      display:none;
      align-items:center;
      gap: 10px;
      box-shadow: var(--shadow);
      z-index: 120;
      color: var(--text);
      font-size: 13.5px;
    }
    .toast.show{display:flex}
    .toast .ok{
      width:10px; height:10px; border-radius: 99px;
      background: var(--brand2);
      box-shadow: 0 0 0 5px rgba(34,197,94,.12);
    }

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid{grid-template-columns: 1fr;}
      .hero-side{grid-template-columns: 1fr 1fr; grid-template-rows: auto;}
      .card{grid-column: span 6;}
      .logo{min-width:auto}
      ..nav{
  display:flex; align-items:center; gap:10px;
  color:var(--muted);
  flex: 0 0 auto;               /* âœ… ë‚´ë¹„ê°€ ê²€ìƒ‰ì°½ì„ ê³¼ë„í•˜ê²Œ ì••ë°•í•˜ì§€ ì•Šê²Œ */
  white-space: nowrap;
}

      .account{display:none !important;} /* ëª¨ë°”ì¼ ìƒë‹¨ í˜¼ì¡ ë°©ì§€(ì›í•˜ë©´ ì œê±°) */
    }
    @media (max-width: 620px){
      .hero-side{grid-template-columns: 1fr;}
      .card{grid-column: span 12;}
      .search .kbd{display:none}
    }
  </style>
</head>
<body>
  <header class="topbar" role="banner">
    <div class="container">
      <div class="topbar-inner">
        <a class="logo" href="#" aria-label="í™ˆìœ¼ë¡œ">
          <span class="logo-mark" aria-hidden="true"></span>
          <span>VibeShop</span>
        </a>

        <nav class="nav" aria-label="ì£¼ìš” ë©”ë‰´">
          <a href="#products">ì‹ ìƒí’ˆ</a>
          <a href="#products">ë² ìŠ¤íŠ¸</a>
          <a href="#products">ì„¸ì¼</a>
          <a href="#brands">ë¸Œëœë“œ</a>
          <a href="#support">ê³ ê°ì„¼í„°</a>
        </nav>

        <div class="search" role="search" aria-label="ìƒí’ˆ ê²€ìƒ‰">
          <span aria-hidden="true">ğŸ”</span>
          <input id="q" type="search" placeholder="ì°¾ê³  ì‹¶ì€ ìƒí’ˆì„ ê²€ìƒ‰í•˜ì„¸ìš”" autocomplete="off" />
          <span class="kbd" title="ë‹¨ì¶•í‚¤">Ctrl /</span>
        </div>

        <div class="actions" aria-label="ìœ í‹¸ ë©”ë‰´">
          <button class="iconbtn" id="btnTheme" type="button" title="ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ">
            <span aria-hidden="true">ğŸŒ™</span>
          </button>

          <button class="iconbtn" id="btnCart" type="button" title="ì¥ë°”êµ¬ë‹ˆ">
            <span aria-hidden="true">ğŸ›’</span>
            <span class="badge" id="cartCount">0</span>
          </button>

          <div class="account" id="accountArea" aria-live="polite"></div>

          <button class="btn primary" type="button" id="btnLogin">
            <span aria-hidden="true">ğŸ‘¤</span>
            ë¡œê·¸ì¸
          </button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container">
        <div class="hero-grid">
          <div class="hero-main">
            <h1>ì˜¤ëŠ˜ì˜ ì¶”ì²œ: <span style="color:#d8b4fe">í”„ë¦¬ë¯¸ì—„</span> ê°ì„± ì‡¼í•‘</h1>
            <p>
              ë¹ ë¥´ê²Œ íƒìƒ‰í•˜ê³ , ì›í•˜ëŠ” ìƒí’ˆë§Œ ê³¨ë¼ ë‹´ëŠ” â€œí™ˆí˜ì´ì§€ ì˜ˆì‹œâ€ í…œí”Œë¦¿ì…ë‹ˆë‹¤.
              í•„í„°/ì •ë ¬/ê²€ìƒ‰/ì¥ë°”êµ¬ë‹ˆ UIê°€ í¬í•¨ë˜ì–´ ìˆì–´ ë°”ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.
            </p>

            <div class="chips" aria-label="í˜œíƒ">
              <span class="chip"><span class="dot"></span> ë¬´ë£Œë°°ì†¡ 3ë§Œì›â†‘</span>
              <span class="chip">ì‹ ê·œíšŒì› 10% ì¿ í°</span>
              <span class="chip">ë‹¹ì¼ë°œì†¡ ìƒí’ˆ ëª¨ìŒ</span>
            </div>

            <div class="hero-cta">
              <a class="btn primary" href="#products">ì§€ê¸ˆ ì‡¼í•‘í•˜ê¸°</a>
              <button class="btn ghost" type="button" id="btnRandomPick">ëœë¤ ì¶”ì²œ</button>
              <button class="btn ghost" type="button" id="btnClear">ê²€ìƒ‰/í•„í„° ì´ˆê¸°í™”</button>
            </div>

            <div class="hero-art" aria-hidden="true"></div>
          </div>

          <div class="hero-side">
            <div class="mini-card">
              <div class="mini-title">
                <h3>ì´ë²ˆ ì£¼ ë”œ</h3>
                <span>~ ì¼ìš”ì¼ 23:59</span>
              </div>
              <div class="deals">
                <div class="deal">
                  <div class="left">
                    <div class="name">ë°ì¼ë¦¬ í›„ë””</div>
                    <div class="desc">ì¸ê¸° ì»¬ëŸ¬ ì¬ì…ê³ </div>
                  </div>
                  <span class="pill hot">ìµœëŒ€ 35%</span>
                </div>
                <div class="deal">
                  <div class="left">
                    <div class="name">ë¬´ì„  ì´ì–´ë²„ë“œ</div>
                    <div class="desc">ë…¸ì´ì¦ˆ ìº”ìŠ¬ë§</div>
                  </div>
                  <span class="pill">ì˜¤ëŠ˜ë§Œ</span>
                </div>
              </div>
            </div>

            <div class="mini-card">
              <div class="mini-title">
                <h3>ë¹ ë¥¸ ì¹´í…Œê³ ë¦¬</h3>
                <span>í•œ ë²ˆì— ì´ë™</span>
              </div>
              <div class="filters" style="margin:0">
                <button class="btn small ghost cat" data-cat="íŒ¨ì…˜">íŒ¨ì…˜</button>
                <button class="btn small ghost cat" data-cat="í…Œí¬">í…Œí¬</button>
                <button class="btn small ghost cat" data-cat="ë¦¬ë¹™">ë¦¬ë¹™</button>
                <button class="btn small ghost cat" data-cat="ë·°í‹°">ë·°í‹°</button>
                <button class="btn small ghost cat" data-cat="í‘¸ë“œ">í‘¸ë“œ</button>
              </div>
              <div class="line"></div>
              <div class="small">
                Tip: ìƒë‹¨ ê²€ìƒ‰ì°½ì—ì„œ <b>Ctrl + /</b>ë¡œ í¬ì»¤ìŠ¤, <b>Enter</b>ë¡œ ê²€ìƒ‰ ì ìš©.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PRODUCTS -->
    <section class="section" id="products">
      <div class="container">
        <div class="section-head">
          <div>
            <h2>ì¶”ì²œ ìƒí’ˆ</h2>
            <p>ê²€ìƒ‰/í•„í„°/ì •ë ¬ì´ ì¦‰ì‹œ ë°˜ì˜ë˜ëŠ” ë°ëª¨ ìƒí’ˆ ëª©ë¡</p>
          </div>
          <div class="small">í‘œì‹œ: <span id="countShown">0</span> / <span id="countAll">0</span></div>
        </div>

        <div class="filters" aria-label="í•„í„°">
          <label class="select" title="ì¹´í…Œê³ ë¦¬">
            <span class="subtle">ì¹´í…Œê³ ë¦¬</span>
            <select id="filterCat">
              <option value="ALL">ì „ì²´</option>
              <option value="íŒ¨ì…˜">íŒ¨ì…˜</option>
              <option value="í…Œí¬">í…Œí¬</option>
              <option value="ë¦¬ë¹™">ë¦¬ë¹™</option>
              <option value="ë·°í‹°">ë·°í‹°</option>
              <option value="í‘¸ë“œ">í‘¸ë“œ</option>
            </select>
          </label>

          <label class="select" title="ì •ë ¬">
            <span class="subtle">ì •ë ¬</span>
            <select id="sortBy">
              <option value="RECO">ì¶”ì²œìˆœ</option>
              <option value="PRICE_ASC">ê°€ê²© ë‚®ì€ìˆœ</option>
              <option value="PRICE_DESC">ê°€ê²© ë†’ì€ìˆœ</option>
              <option value="RATING_DESC">í‰ì  ë†’ì€ìˆœ</option>
              <option value="NEW_DESC">ì‹ ìƒí’ˆìˆœ</option>
            </select>
          </label>

          <label class="toggle" title="ì„¸ì¼ë§Œ ë³´ê¸°">
            <input id="onlySale" type="checkbox" />
            <span>ì„¸ì¼ë§Œ</span>
          </label>

          <label class="toggle" title="ë¬´ë£Œë°°ì†¡ë§Œ ë³´ê¸°">
            <input id="onlyShipFree" type="checkbox" />
            <span>ë¬´ë£Œë°°ì†¡</span>
          </label>

          <label class="toggle" title="ì¬ê³  ìˆìŒë§Œ ë³´ê¸°">
            <input id="onlyInStock" type="checkbox" checked />
            <span>ì¬ê³  ìˆìŒ</span>
          </label>
        </div>

        <div class="grid" id="grid" aria-live="polite"></div>
      </div>
    </section>

    <!-- BRANDS / SUPPORT -->
    <section class="section" id="brands">
      <div class="container">
        <div class="section-head">
          <div>
            <h2>ë¸Œëœë“œ ë¼ìš´ì§€</h2>
            <p>ë¡œê³ /ë°°ë„ˆ/í”„ë¡œëª¨ì…˜ ì˜ì—­(ì»¤ìŠ¤í„°ë§ˆì´ì§•ìš©)</p>
          </div>
        </div>

        <div class="grid">
          <div class="mini-card" style="grid-column: span 4;">
            <h3 style="margin:0 0 10px;">Brand A</h3>
            <div class="small">ë¯¸ë‹ˆ ë°°ë„ˆ ì˜ì—­ / ë¸Œëœë“œ ìŠ¤í† ë¦¬</div>
            <div class="line"></div>
            <button class="btn small primary" type="button">ë¸Œëœë“œ ë³´ëŸ¬ê°€ê¸°</button>
          </div>
          <div class="mini-card" style="grid-column: span 4;">
            <h3 style="margin:0 0 10px;">Brand B</h3>
            <div class="small">ì‹œì¦Œ ì»¬ë ‰ì…˜ / ì¶”ì²œ</div>
            <div class="line"></div>
            <button class="btn small ghost" type="button">ì»¬ë ‰ì…˜</button>
          </div>
          <div class="mini-card" style="grid-column: span 4;">
            <h3 style="margin:0 0 10px;">Brand C</h3>
            <div class="small">ê¸°íšì „ / ì¿ í°</div>
            <div class="line"></div>
            <button class="btn small ghost" type="button">ì¿ í° ë°›ê¸°</button>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="support">
      <div class="container">
        <div class="section-head">
          <div>
            <h2>ê³ ê°ì„¼í„°</h2>
            <p>FAQ/ê³µì§€/ë¬¸ì˜ ë²„íŠ¼ ì˜ì—­</p>
          </div>
        </div>

        <div class="grid">
          <div class="mini-card" style="grid-column: span 6;">
            <h3 style="margin:0 0 10px;">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</h3>
            <div class="small">ë°°ì†¡ / êµí™˜ / í™˜ë¶ˆ / ê²°ì œ / ì¿ í°</div>
            <div class="line"></div>
            <div class="small">
              â€¢ í‰ê·  ë°°ì†¡ 1~2ì¼<br/>
              â€¢ êµí™˜/ë°˜í’ˆ 7ì¼ ì´ë‚´ ê°€ëŠ¥<br/>
              â€¢ ë¬¸ì˜: help@vibeshop.example
            </div>
          </div>
          <div class="mini-card" style="grid-column: span 6;">
            <h3 style="margin:0 0 10px;">ê³µì§€ì‚¬í•­</h3>
            <div class="small">ì„œë¹„ìŠ¤ ì ê²€ / ì´ë²¤íŠ¸ ì•ˆë‚´</div>
            <div class="line"></div>
            <div class="small">
              â€¢ [ì•ˆë‚´] ì‹ ê·œíšŒì› ì¿ í° ì§€ê¸‰ ì •ì±…<br/>
              â€¢ [ì´ë²¤íŠ¸] ì£¼ê°„ íŠ¹ê°€ ìƒí’ˆ ì˜¤í”ˆ<br/>
              â€¢ [ì ê²€] ê²°ì œ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="container">
      <div class="foot">
        <div>
          <div class="logo" style="margin-bottom:10px">
            <span class="logo-mark" aria-hidden="true"></span>
            <span>VibeShop</span>
          </div>
          <div class="small">
            ë³¸ í˜ì´ì§€ëŠ” â€œì‡¼í•‘ëª° ë©”ì¸ í™ˆí˜ì´ì§€ UIâ€ ì˜ˆì‹œ í…œí”Œë¦¿ì…ë‹ˆë‹¤. <br/>
            ë¡œê³ /ìƒí’ˆ/ë¬¸êµ¬/ì»¬ëŸ¬ë¥¼ ë°”ê¾¸ë©´ ë°”ë¡œ ì‹¤ì„œë¹„ìŠ¤ ëŠë‚Œìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.
          </div>
        </div>
        <div>
          <h4>ë°”ë¡œê°€ê¸°</h4>
          <div class="small" style="display:grid; gap:8px">
            <a href="#products">ìƒí’ˆ</a>
            <a href="#brands">ë¸Œëœë“œ</a>
            <a href="#support">ê³ ê°ì„¼í„°</a>
          </div>
        </div>
        <div>
          <h4>ì •ì±…</h4>
          <div class="small" style="display:grid; gap:8px">
            <a href="#">ì´ìš©ì•½ê´€</a>
            <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            <a href="#">í™˜ë¶ˆì •ì±…</a>
          </div>
        </div>
      </div>
      <div class="line"></div>
      <div class="small">Â© <span id="year"></span> VibeShop. All rights reserved.</div>
    </div>
  </footer>

  <!-- Cart Drawer -->
  <div class="backdrop" id="backdrop" aria-hidden="true"></div>
  <aside class="drawer" id="drawer" aria-label="ì¥ë°”êµ¬ë‹ˆ">
    <div class="drawer-head">
      <h3>ì¥ë°”êµ¬ë‹ˆ</h3>
      <button class="btn small ghost" type="button" id="btnCloseCart">ë‹«ê¸°</button>
    </div>
    <div class="drawer-body" id="cartList"></div>
    <div class="drawer-foot">
      <div class="totals">
        <span>í•©ê³„</span>
        <b id="cartTotal">â‚©0</b>
      </div>
      <div class="checkout">
        <button class="btn ghost" type="button" id="btnEmpty">ë¹„ìš°ê¸°</button>
        <button class="btn primary" type="button" id="btnCheckout">ê²°ì œí•˜ê¸°</button>
      </div>
      <div class="small">ë°ëª¨ í˜ì´ì§€: ê²°ì œëŠ” ì‹¤ì œë¡œ ì§„í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
    </div>
  </aside>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <span class="ok" aria-hidden="true"></span>
    <span id="toastMsg">ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ìŠµë‹ˆë‹¤.</span>
  </div>

  <script>
    // ===== Demo data =====
    const PRODUCTS = [
      {id:"p1",  name:"ì—ì–´ë¦¬ í‹°ì…”ì¸ ",  cat:"íŒ¨ì…˜", tag:"new",  price:19900, was:null, rating:4.7, reviews:1321, shipFree:true,  stock:38,  created:"2026-01-20"},
      {id:"p2",  name:"ë°ì¼ë¦¬ í›„ë””",    cat:"íŒ¨ì…˜", tag:"sale", price:39000, was:59000, rating:4.8, reviews:845,  shipFree:true,  stock:12,  created:"2025-12-18"},
      {id:"p3",  name:"ë¯¸ë‹ˆ í¬ë¡œìŠ¤ë°±",  cat:"íŒ¨ì…˜", tag:"best", price:44900, was:null, rating:4.6, reviews:532,  shipFree:false, stock:19,  created:"2025-11-28"},
      {id:"p4",  name:"ë¬´ì„  ì´ì–´ë²„ë“œ Pro", cat:"í…Œí¬", tag:"sale", price:79000, was:129000, rating:4.5, reviews:2210, shipFree:true, stock:25, created:"2026-01-06"},
      {id:"p5",  name:"íœ´ëŒ€ìš© ë¸”ë Œë”",  cat:"ë¦¬ë¹™", tag:"best", price:52000, was:null, rating:4.4, reviews:612,  shipFree:true, stock:0,  created:"2025-10-03"},
      {id:"p6",  name:"ì•„ë¡œë§ˆ ë””í“¨ì €",  cat:"ë¦¬ë¹™", tag:"new",  price:29800, was:null, rating:4.3, reviews:194,  shipFree:false, stock:44, created:"2026-01-25"},
      {id:"p7",  name:"ë¹„íƒ€ë¯¼ ì„¸ëŸ¼",    cat:"ë·°í‹°", tag:"sale", price:25900, was:35000, rating:4.6, reviews:980,  shipFree:true, stock:33, created:"2025-12-05"},
      {id:"p8",  name:"ì„ í¬ë¦¼ SPF50+",  cat:"ë·°í‹°", tag:"best", price:17500, was:null, rating:4.7, reviews:1430, shipFree:false, stock:58, created:"2025-09-14"},
      {id:"p9",  name:"ë“œë¦½ë°± ì»¤í”¼ 10ì…", cat:"í‘¸ë“œ", tag:"new", price:14900, was:null, rating:4.8, reviews:377,  shipFree:true, stock:76, created:"2026-02-01"},
      {id:"p10", name:"í”„ë¡œí‹´ ë°” 12ì…",  cat:"í‘¸ë“œ", tag:"sale", price:16800, was:21000, rating:4.2, reviews:410, shipFree:true, stock:22, created:"2025-11-07"},
      {id:"p11", name:"USB-C ë©€í‹°í—ˆë¸Œ",  cat:"í…Œí¬", tag:"best", price:34900, was:null, rating:4.4, reviews:650,  shipFree:false, stock:17, created:"2025-08-19"},
      {id:"p12", name:"ë¬´ë“œ í…Œì´ë¸” ë¨í”„", cat:"ë¦¬ë¹™", tag:"sale", price:26900, was:42000, rating:4.5, reviews:521, shipFree:true, stock:9,  created:"2026-01-12"},
    ];

    // ===== Utils =====
    const KRW = new Intl.NumberFormat("ko-KR", { style:"currency", currency:"KRW" });
    const $ = (sel, el=document) => el.querySelector(sel);
    const $$ = (sel, el=document) => Array.from(el.querySelectorAll(sel));
    const daysBetween = (a,b) => Math.floor((new Date(a)-new Date(b))/(1000*60*60*24));

    // ===== State =====
    const state = {
      q: "",
      cat: "ALL",
      sort: "RECO",
      onlySale: false,
      onlyShipFree: false,
      onlyInStock: true,
      qty: Object.fromEntries(PRODUCTS.map(p => [p.id, 1])),
      wish: new Set(),
      cart: new Map(), // id -> {id, qty}
    };

    // ===== Render products =====
    function computeList(){
      let list = [...PRODUCTS];

      // search
      if(state.q.trim()){
        const k = state.q.trim().toLowerCase();
        list = list.filter(p => p.name.toLowerCase().includes(k) || p.cat.toLowerCase().includes(k));
      }

      // filters
      if(state.cat !== "ALL") list = list.filter(p => p.cat === state.cat);
      if(state.onlySale) list = list.filter(p => p.tag === "sale" || p.was);
      if(state.onlyShipFree) list = list.filter(p => p.shipFree);
      if(state.onlyInStock) list = list.filter(p => p.stock > 0);

      // sort
      const by = state.sort;
      if(by === "PRICE_ASC") list.sort((a,b)=> a.price - b.price);
      if(by === "PRICE_DESC") list.sort((a,b)=> b.price - a.price);
      if(by === "RATING_DESC") list.sort((a,b)=> b.rating - a.rating);
      if(by === "NEW_DESC") list.sort((a,b)=> new Date(b.created) - new Date(a.created));

      // RECO: ê°„ë‹¨ ì¶”ì²œ ì ìˆ˜(í‰ì +ë¦¬ë·°+ì‹ ìƒí’ˆ ê°€ì¤‘ì¹˜-í’ˆì ˆ íŒ¨ë„í‹°)
      if(by === "RECO"){
        const now = new Date();
        const score = (p)=>{
          const rec = Math.log10(p.reviews + 10) * 0.9;
          const newness = Math.max(0, 40 - Math.abs(daysBetween(now, new Date(p.created)))) / 40;
          const stock = p.stock > 0 ? 0.2 : -2.0;
          const sale = (p.tag==="sale" || p.was) ? 0.25 : 0;
          return p.rating + rec + newness + stock + sale;
        };
        list.sort((a,b)=> score(b)-score(a));
      }

      return list;
    }

    function tagLabel(tag){
      if(tag==="sale") return {t:"SALE", cls:"sale"};
      if(tag==="new") return {t:"NEW", cls:"new"};
      if(tag==="best") return {t:"BEST", cls:"best"};
      return {t:"", cls:""};
    }

    function cardHTML(p){
      const t = tagLabel(p.tag);
      const wished = state.wish.has(p.id) ? "active" : "";
      const out = p.stock<=0 ? "<span class='pill hot'>í’ˆì ˆ</span>" : (p.shipFree ? "<span class='pill'>ë¬´ë£Œë°°ì†¡</span>" : "<span class='pill'>ë°°ì†¡ë¹„ ë³„ë„</span>");
      const was = p.was ? `<div class="was">${KRW.format(p.was)}</div>` : `<div class="was" style="visibility:hidden">â‚©0</div>`;
      const stars = `<span class="stars" title="í‰ì  ${p.rating}"><span class="star"></span> ${p.rating.toFixed(1)} <span class="subtle">(${p.reviews.toLocaleString()})</span></span>`;

      return `
        <article class="card" data-id="${p.id}">
          <div class="thumb">
            <span class="tag ${t.cls}">${t.t}</span>
            <button class="wish ${wished}" type="button" aria-label="ì°œ" data-wish="${p.id}">â™¥</button>
          </div>
          <div class="content">
            <h3 class="title">${p.name}</h3>
            <div class="meta">
              <span>${p.cat}</span>
              <span>â€¢</span>
              ${stars}
            </div>
            <div class="price-row">
              <div class="price">
                <div class="now">${KRW.format(p.price)}</div>
                ${was}
              </div>
              ${out}
            </div>

            <div class="actions-row">
              <div class="qty" aria-label="ìˆ˜ëŸ‰">
                <button type="button" data-qty-minus="${p.id}" aria-label="ê°ì†Œ">âˆ’</button>
                <span id="qty-${p.id}">${state.qty[p.id] || 1}</span>
                <button type="button" data-qty-plus="${p.id}" aria-label="ì¦ê°€">+</button>
              </div>
              <button class="buy" type="button" data-add="${p.id}" ${p.stock<=0 ? "disabled style='opacity:.55; cursor:not-allowed'" : ""}>
                ë‹´ê¸°
              </button>
            </div>
          </div>
        </article>
      `;
    }

    function render(){
      const list = computeList();
      $("#countAll").textContent = PRODUCTS.length.toString();
      $("#countShown").textContent = list.length.toString();

      const grid = $("#grid");
      grid.innerHTML = list.map(cardHTML).join("");

      // bind events
      $$("[data-qty-minus]").forEach(b => b.addEventListener("click", ()=>{
        const id = b.getAttribute("data-qty-minus");
        state.qty[id] = Math.max(1, (state.qty[id]||1) - 1);
        const el = $("#qty-"+id);
        if(el) el.textContent = state.qty[id];
      }));
      $$("[data-qty-plus]").forEach(b => b.addEventListener("click", ()=>{
        const id = b.getAttribute("data-qty-plus");
        state.qty[id] = Math.min(99, (state.qty[id]||1) + 1);
        const el = $("#qty-"+id);
        if(el) el.textContent = state.qty[id];
      }));
      $$("[data-add]").forEach(b => b.addEventListener("click", ()=>{
        const id = b.getAttribute("data-add");
        const p = PRODUCTS.find(x=>x.id===id);
        if(!p || p.stock<=0) return;
        addToCart(id, state.qty[id]||1);
      }));
      $$("[data-wish]").forEach(b => b.addEventListener("click", ()=>{
        const id = b.getAttribute("data-wish");
        if(state.wish.has(id)) state.wish.delete(id);
        else state.wish.add(id);
        b.classList.toggle("active");
        toast(state.wish.has(id) ? "ì°œ ëª©ë¡ì— ì¶”ê°€í–ˆì–´ìš”." : "ì°œì„ í•´ì œí–ˆì–´ìš”.");
      }));
    }

    // ===== Cart =====
    function addToCart(id, qty){
      const cur = state.cart.get(id)?.qty || 0;
      state.cart.set(id, {id, qty: cur + qty});
      updateCartUI();
      toast("ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ìŠµë‹ˆë‹¤.");
    }

    function removeFromCart(id){
      state.cart.delete(id);
      updateCartUI();
    }

    function changeCartQty(id, delta){
      const item = state.cart.get(id);
      if(!item) return;
      item.qty = Math.max(1, item.qty + delta);
      state.cart.set(id, item);
      updateCartUI();
    }

    function cartTotal(){
      let sum = 0;
      for(const [id, item] of state.cart){
        const p = PRODUCTS.find(x=>x.id===id);
        if(p) sum += p.price * item.qty;
      }
      return sum;
    }

    function updateCartUI(){
      const count = Array.from(state.cart.values()).reduce((a,b)=>a+b.qty,0);
      $("#cartCount").textContent = count.toString();

      const list = $("#cartList");
      if(count === 0){
        list.innerHTML = `<div class="small" style="padding:12px; color: var(--muted)">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.</div>`;
      } else {
        list.innerHTML = Array.from(state.cart.values()).map(({id, qty})=>{
          const p = PRODUCTS.find(x=>x.id===id);
          if(!p) return "";
          return `
            <div class="cart-item">
              <div class="cart-thumb" aria-hidden="true"></div>
              <div class="cart-info">
                <p class="n">${p.name}</p>
                <p class="m">${p.cat} â€¢ ${p.shipFree ? "ë¬´ë£Œë°°ì†¡" : "ë°°ì†¡ë¹„ ë³„ë„"}</p>
                <div class="cart-ops">
                  <div class="mini-qty">
                    <button type="button" data-cart-minus="${id}">âˆ’</button>
                    <span class="amt">${qty}</span>
                    <button type="button" data-cart-plus="${id}">+</button>
                  </div>
                  <div style="display:flex; align-items:center; gap:8px;">
                    <b>${KRW.format(p.price * qty)}</b>
                    <button type="button" class="remove" data-cart-remove="${id}">ì‚­ì œ</button>
                  </div>
                </div>
              </div>
            </div>
          `;
        }).join("");

        $$("[data-cart-minus]").forEach(b => b.addEventListener("click", ()=> changeCartQty(b.dataset.cartMinus, -1)));
        $$("[data-cart-plus]").forEach(b => b.addEventListener("click", ()=> changeCartQty(b.dataset.cartPlus, +1)));
        $$("[data-cart-remove]").forEach(b => b.addEventListener("click", ()=> removeFromCart(b.dataset.cartRemove)));
      }

      $("#cartTotal").textContent = KRW.format(cartTotal());
    }

    // ===== Drawer =====
    function openCart(){
      $("#backdrop").classList.add("show");
      $("#drawer").classList.add("open");
      document.body.style.overflow = "hidden";
      updateCartUI();
    }
    function closeCart(){
      $("#backdrop").classList.remove("show");
      $("#drawer").classList.remove("open");
      document.body.style.overflow = "";
    }

    // ===== Toast =====
    let toastTimer = null;
    function toast(msg){
      const t = $("#toast");
      $("#toastMsg").textContent = msg;
      t.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> t.classList.remove("show"), 1600);
    }

    // ===== Events (non-login/theme) =====
    $("#btnCart").addEventListener("click", openCart);
    $("#btnCloseCart").addEventListener("click", closeCart);
    $("#backdrop").addEventListener("click", closeCart);

    $("#btnEmpty").addEventListener("click", ()=>{
      state.cart.clear();
      updateCartUI();
      toast("ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì› ìŠµë‹ˆë‹¤.");
    });

    $("#btnCheckout").addEventListener("click", ()=>{
      if(state.cart.size === 0) return toast("ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆì–´ìš”.");
      toast("ë°ëª¨: ê²°ì œ í™”ë©´ìœ¼ë¡œ ì´ë™(ê°€ì •)");
    });

    $("#q").addEventListener("input", (e)=>{
      state.q = e.target.value;
      render();
    });

    $("#filterCat").addEventListener("change", (e)=>{
      state.cat = e.target.value;
      render();
    });

    $("#sortBy").addEventListener("change", (e)=>{
      state.sort = e.target.value;
      render();
    });

    $("#onlySale").addEventListener("change", (e)=>{
      state.onlySale = e.target.checked;
      render();
    });

    $("#onlyShipFree").addEventListener("change", (e)=>{
      state.onlyShipFree = e.target.checked;
      render();
    });

    $("#onlyInStock").addEventListener("change", (e)=>{
      state.onlyInStock = e.target.checked;
      render();
    });

    $$(".cat").forEach(btn => btn.addEventListener("click", ()=>{
      state.cat = btn.dataset.cat;
      $("#filterCat").value = state.cat;
      render();
      document.querySelector("#products").scrollIntoView({behavior:"smooth", block:"start"});
    }));

    $("#btnClear").addEventListener("click", ()=>{
      state.q = "";
      $("#q").value = "";
      state.cat = "ALL";
      $("#filterCat").value = "ALL";
      state.sort = "RECO";
      $("#sortBy").value = "RECO";
      state.onlySale = false; $("#onlySale").checked = false;
      state.onlyShipFree = false; $("#onlyShipFree").checked = false;
      state.onlyInStock = true; $("#onlyInStock").checked = true;
      render();
      toast("ì´ˆê¸°í™” ì™„ë£Œ");
    });

    $("#btnRandomPick").addEventListener("click", ()=>{
      const list = computeList();
      if(list.length===0) return toast("ì¡°ê±´ì— ë§ëŠ” ìƒí’ˆì´ ì—†ì–´ìš”.");
      const pick = list[Math.floor(Math.random()*list.length)];
      toast(`ì¶”ì²œ: ${pick.name}`);
      const card = document.querySelector(`.card[data-id="${pick.id}"]`);
      if(card) card.scrollIntoView({behavior:"smooth", block:"center"});
    });

    // ë‹¨ì¶•í‚¤: Ctrl + /
    window.addEventListener("keydown", (e)=>{
      if(e.ctrlKey && e.key === "/"){
        e.preventDefault();
        $("#q").focus();
      }
      if(e.key === "Escape"){
        closeCart();
      }
    });

    // ===== Login (persist with localStorage) =====
    const LS_LOGIN_KEY = "vibeshop_login_id";

    function genLoginId(){
      const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
      const digits = "0123456789";

      let a = "";
      for(let i=0;i<4;i++) a += letters[Math.floor(Math.random() * letters.length)];

      let b = "";
      for(let i=0;i<4;i++) b += digits[Math.floor(Math.random() * digits.length)];

      return a + b;
    }

    let loggedInId = localStorage.getItem(LS_LOGIN_KEY); // ìƒˆë¡œê³ ì¹¨ ìœ ì§€

    function setLoginUI(){
      const btn = $("#btnLogin");
      const acc = $("#accountArea");
      if(!btn || !acc) return;

      if(loggedInId){
        btn.innerHTML = `<span aria-hidden="true">âœ…</span> ë¡œê·¸ì•„ì›ƒ`;
        btn.classList.remove("primary");
        btn.classList.add("ghost");
        btn.setAttribute("aria-pressed", "true");

        acc.style.display = "block";
        acc.innerHTML = `í™˜ì˜í•©ë‹ˆë‹¤, <strong>${loggedInId}</strong>`;
      } else {
        btn.innerHTML = `<span aria-hidden="true">ğŸ‘¤</span> ë¡œê·¸ì¸`;
        btn.classList.add("primary");
        btn.classList.remove("ghost");
        btn.setAttribute("aria-pressed", "false");

        acc.style.display = "none";
        acc.textContent = "";
      }
    }

    $("#btnLogin").addEventListener("click", ()=>{
      if(loggedInId){
        const prev = loggedInId;
        loggedInId = null;
        localStorage.removeItem(LS_LOGIN_KEY);
        setLoginUI();
        toast(`ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ: ${prev}`);
      } else {
        loggedInId = genLoginId();
        localStorage.setItem(LS_LOGIN_KEY, loggedInId);
        setLoginUI();
        toast(`ë¡œê·¸ì¸ ì™„ë£Œ: ${loggedInId}`);
      }
    });

    // ===== Theme (light/dark) persist =====
    const LS_THEME_KEY = "vibeshop_theme"; // "dark" | "light"

    function applyTheme(theme){
      const root = document.documentElement;
      const icon = $("#btnTheme")?.querySelector("span");
      const t = (theme === "light") ? "light" : "dark";
      root.setAttribute("data-theme", t);

      if(icon){
        icon.textContent = (t === "light") ? "â˜€ï¸" : "ğŸŒ™";
      }
      localStorage.setItem(LS_THEME_KEY, t);
    }

    function initTheme(){
      const saved = localStorage.getItem(LS_THEME_KEY);
      applyTheme(saved || "dark");
    }

    $("#btnTheme").addEventListener("click", ()=>{
      const cur = document.documentElement.getAttribute("data-theme") || "dark";
      applyTheme(cur === "dark" ? "light" : "dark");
      toast(`í…Œë§ˆ: ${document.documentElement.getAttribute("data-theme") === "light" ? "ë¼ì´íŠ¸" : "ë‹¤í¬"}`);
    });

    // ===== Init =====
    $("#year").textContent = new Date().getFullYear();
    initTheme();
    setLoginUI();
    render();
    updateCartUI();
  </script>
</body>
</html>
